<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/app.less" />
    <script defer src="../node_modules/alpinejs/dist/cdn.min.js"></script>
    <script src="js/app.js"></script>
  </head>
  <body>
    <img src="images/img.jpg" />
    <div x-data="{ count: 0 }">
      <button x-on:click="count++">Increment</button>

      <span x-text="count"></span>
    </div>

    <div x-data="{ open: false }">
      <button x-on:click="open = ! open">Toggle Dropdown</button>

      <div x-show="open" x-transition>Dropdown Contents...</div>
    </div>

    <div x-data="{ open: false }">
      <button @click="open = ! open">Toggle</button>

      <div x-show="open" x-transition>Hello ðŸ‘‹</div>
    </div>

    <div x-data="{list: [], todo: ''}">
      <form>
        <input type="text" x-model="todo" />
        <button type="button" x-on:click="list.push(todo);todo=''">
          Envoyer
        </button>
      </form>
      <ul>
        <template x-for="e in list">
          <li x-text="e"></li>
        </template>
      </ul>
    </div>

    <div x-data="{users: [], firstname:'', lastname: '', currentIndex:''}">
      <form>
        <input type="text" x-model="firstname" placeholder="first name" />
        <input type="text" x-model="lastname" placeholder="last name" />
        <button
          type="button"
          x-on:click="currentIndex.length ===0 ? users.push({firstname, lastname}): (users[currentIndex].firstname=firstname, users[currentIndex].lastname=lastname);firstname = lastname= currentIndex=''"
        >
          Envoyer
        </button>
      </form>
      <table>
        <thead>
          <tr>
            <td>Nom</td>
            <td>Prenom</td>
            <td>Action</td>
          </tr>
        </thead>
        <tbody>
          <template x-for="(user, index) in users" :key="index">
            <tr>
              <td x-text="user.firstname"></td>
              <td x-text="user.lastname"></td>
              <td>
                <button type="button" x-on:click="users.splice(index, 1)">
                  Supprimer
                </button>
                <button
                  type="button"
                  x-on:click="firstname=user.firstname;lastname=user.lastname;currentIndex=index"
                >
                  Modifier
                </button>
              </td>
            </tr>
          </template>
        </tbody>
      </table>
    </div>
  </body>
</html>
